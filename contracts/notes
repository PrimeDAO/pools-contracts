0x5fae4c9f23d36b0b29c91039b1dbe5cb779fccc76cd84ef183c8fc0919bec008

Earmark fees is broken

- Initial lock works
- Deposit bal with/without stake works


Maybe we should add ability for multisig to transfer erc20 token from controller to treasury, in case of some weird airdrop or something..


NOTE: treasury is address(0) - default

Works
- Deposit LP tokens with stake = false https://kovan.etherscan.io/tx/0x751761155fbe1ec48a2ecdc0ab8728aa5d198aae879c43fc9854b8c2761d45e2
- DepositAll LP tokens with stake = true, deposits minted d2d LP tokens to corresponding d2dPool https://kovan.etherscan.io/tx/0x11a03d0c44498acd8e600c015af474a1801cec4d64d165324bafa918147fd9e8
- Earmark Rewards for pool works, it gets BAL (reward) and transfers it to corresponding BaseRewardPool (the one that is created when pool is added via addPool) https://kovan.etherscan.io/tx/0xded8f61f57c9b005510d8291470482f9518df90ce9dc9021b3663042a3268d36
NOTE: Did not add extraReward and test extraRewardStash
- GetReward on BaseRewardPool (from pool 0) works, and user is being able to claim rewards in BAL https://kovan.etherscan.io/tx/0x54a04e16c852b35128b42365d9d44e8d2fc2946ecc85fe2a492902d018b43b72

- WithdrawAllAndUnwrap(true) works for user, he withdraws all of his staked tokens and claims reward



Shutdown + withdrawal of LP tokens works

- Shutdown pool as pool manager https://kovan.etherscan.io/tx/0x4c4dabba7b9e6352aec502191735a7e1736cf5c47477b83cb0bd151954d269dc
- withdraw LP tokens as user controller works https://kovan.etherscan.io/tx/0xf5ab9885f639acda00ac580138716a095911df9228b5592299c62bfa5973feeb





Withdraw from controller withdraws LP tokens, converts d2d token to Balancer LP tokens


Withdraw from BaseRewardPool withdraws d2d staked tokens
User has rewards as long as he did not withdraw everything from baserewardpool